#!/usr/bin/env node
"use strict";function main(){var o=commander.args.shift(),e=commander.color,n=availableBgColors.pickMatched(commander.bgColor);o?(o.trim(),commander.banner&&(o=printBanner(o)),e&&(e=availableColors.pickMatched(e,"white"),o=colors[e](o)),n&&(o=colors[n](o)),console.info(),console.info(o),console.info()):commander.outputHelp()}function printBanner(o){console.log(commander.font);return o.trim(),o=figlet.textSync(o,{font:capitalize("Standard"),horizontalLayout:"fitted",verticalLayout:"fitted"})}function capitalize(o){return o&&o.length>1?o.charAt(0).toUpperCase()+o.slice(1).toLowerCase():""}function around(o,e,n){var t=o[e];o[e]=function(){for(var o=new Array(arguments.length),e=0;e<o.length;e++)o[e]=arguments[e];return n.call(this,t,o)}}function before(o,e,n){var t=o[e];o[e]=function(){n.call(this),t.apply(this,arguments)}}function exit(o){function e(){n--||_exit(o)}var n=0,t=[process.stdout,process.stderr];exit.exited=!0,t.forEach(function(o){n+=1,o.write("",e)}),e()}var commander=require("commander"),version=require("./../package.json").version,colors=require("colors"),figlet=require("figlet"),_exit=process.exit,availableColors=["blue","black","cyan","green","grey","magenta","red","white","yellow"],availableBgColors=["bgBlack","bgBlue","bgCyan","bgGreen","bgMagenta","bgRed","bgWhite","bgYellow"],availableFonts=["standard","doom","slant","bell","chunky"];if(process.exit=exit,Array.prototype.pickMatched=function(o,e){if(o&&o!==e)for(var n=this.length;n--;)if(this[n]===o)return this[n];return e},around(commander,"optionMissingArgument",function(o,e){return commander.outputHelp(),o.apply(this,e),{args:[],unknown:[]}}),before(commander,"outputHelp",function(){this._helpShown=!0}),before(commander,"unknownOption",function(){this._allowUnknownOption=this._helpShown,this._helpShown||commander.outputHelp()}),commander.version(version,"    --version").usage("[options] [text]").option("-b  --banner","print banner in ASCII style").option("-f  --font [value]","font used to print text ["+availableFonts.join("|")+"]").option("-c  --color [value]","color of the printed text ["+availableColors.join("|")+"]").option("    --bg-color [value]","background color of the printed text ["+availableBgColors.join("|")+"]"),commander.on("--help",function(){console.log(),console.log(colors.green("  Examples:")),console.log(),console.log(colors.green("    $ "+commander.name()+' --color red "print banner"')),console.log(colors.green("    $ "+commander.name()+" --help")),console.log()}),commander.parse(process.argv),!exit.exited){try{main()}catch(o){console.error("[ERROR] -- something went wrong -- ",o)}exit.exited=!1,_exit(0)}